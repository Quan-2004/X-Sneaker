<!DOCTYPE html>
<html class="light" lang="vi">
<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>X-Sneaker | Chi Tiết Sản Phẩm</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&amp;display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap" rel="stylesheet" />
    <script src="js/tailwind-config.js"></script>
    <link rel="stylesheet" href="css/style.css" />
    <script src="js/common.js" defer></script>
    <script type="module" src="js/product-detail.js"></script>
    <script type="module" src="js/search.js"></script>
  </head>
<body class="bg-background-light dark:bg-background-dark text-[#1b0e0f] dark:text-white transition-colors duration-300">
    <!-- Header -->
    <header class="sticky top-0 z-50 bg-[#000000] border-b border-white/10">
        <div class="max-w-[1440px] mx-auto px-4 md:px-10 lg:px-20 py-4 flex items-center justify-between">
            <a class="flex items-center gap-2 text-white shrink-0" href="index.html">
                    <img src="image/Logo_X_Sneaker.png" alt="X-Sneaker Logo" class="h-12">
                <h2 class="text-xl font-extrabold tracking-tighter uppercase italic">X-Sneaker</h2>
            </a>
            <nav class="hidden lg:flex items-center gap-10 text-white ml-10">
                <div class="shop-nav-item relative py-2">
                    <a class="text-sm font-semibold hover:text-primary transition-colors flex items-center gap-1" href="Product.html">
                        Cửa hàng <span class="material-symbols-outlined text-[16px]">expand_more</span>
                    </a>
                    <div class="mega-menu absolute top-full left-1/2 -translate-x-1/2 pt-4 w-[600px]">
                        <div class="bg-white text-black shadow-2xl rounded-xl p-8 grid grid-cols-3 gap-8 border border-gray-100">
                            <div>
                                <h4 class="font-black text-xs uppercase tracking-widest text-primary mb-4">Nam</h4>
                                <ul class="space-y-3 text-sm font-medium">
                                    <li><a class="hover:text-primary transition-colors" href="Product.html">Thời trang</a></li>
                                    <li><a class="hover:text-primary transition-colors" href="Product.html">Chạy bộ</a></li>
                                    <li><a class="hover:text-primary transition-colors" href="Product.html">Bóng rổ</a></li>
                                    <li><a class="hover:text-primary transition-colors" href="Product.html">Tập luyện</a></li>
                                </ul>
                            </div>
                            <div>
                                <h4 class="font-black text-xs uppercase tracking-widest text-primary mb-4">Nữ</h4>
                                <ul class="space-y-3 text-sm font-medium">
                                    <li><a class="hover:text-primary transition-colors" href="Product.html">Thời trang</a></li>
                                    <li><a class="hover:text-primary transition-colors" href="Product.html">Chạy bộ</a></li>
                                    <li><a class="hover:text-primary transition-colors" href="Product.html">Gym &amp; Training</a></li>
                                    <li><a class="hover:text-primary transition-colors" href="Product.html">Yoga</a></li>
                                </ul>
                            </div>
                            <div>
                                <h4 class="font-black text-xs uppercase tracking-widest text-primary mb-4">Phụ kiện</h4>
                                <ul class="space-y-3 text-sm font-medium">
                                    <li><a class="hover:text-primary transition-colors" href="Product.html">Tất / Vớ</a></li>
                                    <li><a class="hover:text-primary transition-colors" href="Product.html">Chăm sóc giày</a></li>
                                    <li><a class="hover:text-primary transition-colors" href="Product.html">Túi &amp; Balo</a></li>
                                    <li><a class="hover:text-primary transition-colors" href="Product.html">Dây giày</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <a class="text-sm font-semibold hover:text-primary transition-colors" href="Blog-list.html">Tin tức</a>
                <a class="text-sm font-semibold hover:text-primary transition-colors" href="About-us.html">Giới thiệu</a>
                <a class="text-sm font-semibold hover:text-primary transition-colors" href="Contact-Us.html">Liên hệ</a>
            </nav>
            <div class="flex items-center gap-6 text-white">
                <button class="hover:text-primary transition-colors flex items-center justify-center">
                    <span class="material-symbols-outlined">search</span>
                </button>
                <a href="Account.html" class="hover:text-primary transition-colors flex items-center justify-center">
                    <span class="material-symbols-outlined">person</span>
                </a>
                <a href="Account.html?tab=wishlist" class="hover:text-primary transition-colors flex items-center justify-center">
                    <span class="material-symbols-outlined">favorite</span>
                </a>
                <a href="Cart.html" class="hover:text-primary transition-colors relative flex items-center justify-center">
                    <span class="material-symbols-outlined">shopping_cart</span>
                    <span class="absolute -top-2 -right-2 bg-primary text-[10px] w-4 h-4 rounded-full flex items-center justify-center font-bold text-white border border-black">3</span>
                </a>
                <button id="mobile-menu-btn" class="lg:hidden text-white"><span class="material-symbols-outlined">menu</span></button>
            </div>
        </div>
        <!-- Mobile Menu Overlay -->
        <div id="mobile-menu" class="fixed inset-0 bg-black/95 z-[60] hidden flex-col items-center justify-center text-white transition-opacity duration-300">
            <button id="close-menu-btn" class="absolute top-6 right-6 text-white p-2">
                <span class="material-symbols-outlined text-4xl">close</span>
            </button>
            <nav class="flex flex-col items-center gap-8 text-xl font-bold uppercase tracking-widest">
                <a href="Product.html" class="hover:text-primary transition-colors">Cửa hàng</a>
                <a href="Blog-list.html" class="hover:text-primary transition-colors">Tin tức</a>
                <a href="About-us.html" class="hover:text-primary transition-colors">Giới thiệu</a>
                <a href="Contact-Us.html" class="hover:text-primary transition-colors">Liên hệ</a>
            </nav>
        </div>
    </header>

    <main class="max-w-[1280px] mx-auto w-full px-6 py-8">
        <!-- Breadcrumbs -->
        <div class="flex flex-wrap gap-2 py-4 items-center text-sm mb-6">
            <a class="text-gray-500 hover:text-primary transition-colors font-medium" href="index.html">Trang chủ</a>
            <span class="text-gray-400">/</span>
            <a class="text-gray-500 hover:text-primary transition-colors font-medium" href="Product.html">Giày</a>
            <span class="text-gray-400">/</span>
            <a class="text-gray-500 hover:text-primary transition-colors font-medium" href="Product.html">Thể thao</a>
            <span class="text-gray-400">/</span>
            <span class="text-[#1b0e0f] dark:text-white font-bold">X-Velocity Elite</span>
        </div>
        <div class="flex flex-col lg:flex-row gap-12">
            <!-- Left: Product Gallery -->
            <div class="w-full lg:w-3/5 flex flex-col gap-4">
                <div class="w-full bg-white dark:bg-gray-800 rounded-xl overflow-hidden aspect-[4/5] md:aspect-square flex items-center justify-center">
                    <div class="w-full h-full bg-center bg-no-repeat bg-cover hover:scale-105 transition-transform duration-500 cursor-zoom-in" data-alt="Main product view of X-Velocity Elite sneaker in red and white" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuDEWJKAJ1JUeK-n92CDg7bUWkR4l5Zc8BD6hs5xJ7BnwLHc3XwjZ96serRxnoZFpbZjeYMAmt9edPK1UNMSvIEapYSvSOzLnLvRna6CPokmxawMQoaaPDq07MWA0tg8PkUwc1PKFkMJrTSvGpc39isEvD1eOL2rBt3joR8gOH_C1HClAiue_qB2-Luim71vO3Gw9wxil7IttnUquANcO3rarP0-Lmcapq0-LoaU9Z4SxtUb-4AsHMI896PgOkmIlpbEe4gdnqygcXY");'>
                    </div>
                </div>
                <!-- Color Thumbnails - Hiển thị ảnh đại diện của từng màu -->
                <div id="color-thumbnails-container" class="grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-3">
                    <!-- Color thumbnails will be loaded dynamically -->
                </div>
            </div>
            <!-- Right: Product Info -->
            <div class="w-full lg:w-2/5 flex flex-col">
                <div class="mb-2 flex items-center gap-2">
                    <span class="bg-primary/10 text-primary text-[10px] font-bold px-2 py-0.5 rounded uppercase tracking-wider">Hàng Mới</span>
                    <div class="flex items-center text-amber-500">
                        <span class="material-symbols-outlined text-sm">star</span>
                        <span class="material-symbols-outlined text-sm">star</span>
                        <span class="material-symbols-outlined text-sm">star</span>
                        <span class="material-symbols-outlined text-sm">star</span>
                        <span class="material-symbols-outlined text-sm text-gray-300">star_half</span>
                        <span class="text-xs text-gray-500 dark:text-gray-400 ml-1 font-medium">(124 Đánh giá)</span>
                    </div>
                </div>
                <h1 class="text-[#1b0e0f] dark:text-white text-4xl font-extrabold leading-tight mb-2">X-Velocity Elite</h1>
                <p class="text-gray-500 dark:text-gray-400 text-lg mb-6">Giày chạy marathon siêu nhẹ dành cho vận động viên chuyên nghiệp.</p>
                <div class="flex items-baseline gap-4 mb-6">
                    <span class="text-primary text-3xl font-bold">4.440.000₫</span>
                    <span class="text-gray-400 line-through text-lg">5.280.000₫</span>
                </div>
                <!-- Gender Info -->
                <div class="mb-6 pb-6 border-b border-gray-100 dark:border-gray-800">
                    <div class="flex items-center gap-2 text-sm">
                        <span class="material-symbols-outlined text-gray-400">person</span>
                        <span class="text-gray-500 dark:text-gray-400">Giới tính:</span>
                        <span id="product-gender" class="font-semibold text-[#1b0e0f] dark:text-white">Unisex</span>
                    </div>
                </div>
                <!-- Color Selection -->
                <div class="mb-8">
                    <div class="flex justify-between items-center mb-3">
                        <h3 class="text-sm font-bold uppercase tracking-wide">Màu Sắc: <span class="text-gray-500 font-medium" id="selected-color-name">Đen</span></h3>
                    </div>
                    <div class="flex gap-3" id="color-container">
                        <!-- Color buttons will be loaded dynamically -->
                    </div>
                </div>
                <!-- Size Selection -->
                <div class="mb-8">
                    <div class="flex justify-between items-center mb-3">
                        <h3 class="text-sm font-bold uppercase tracking-wide">Chọn Kích Thước</h3>
                        <button id="size-guide-btn" class="text-primary text-xs font-bold underline">Bảng Size</button>
                    </div>
                    <div class="grid grid-cols-4 gap-2">
                        <button class="size-btn py-3 text-center border border-gray-200 dark:border-gray-700 rounded-lg text-sm font-semibold hover:border-primary transition-all" data-size="US 7">US 7</button>
                        <button class="size-btn py-3 text-center border border-gray-200 dark:border-gray-700 rounded-lg text-sm font-semibold hover:border-primary transition-all" data-size="US 8">US 8</button>
                        <button class="size-btn py-3 text-center border border-primary bg-primary/5 text-primary rounded-lg text-sm font-bold" data-size="US 9">US 9</button>
                        <button class="size-btn py-3 text-center border border-gray-200 dark:border-gray-700 rounded-lg text-sm font-semibold hover:border-primary transition-all" data-size="US 10">US 10</button>
                        <button class="size-btn py-3 text-center border border-gray-200 dark:border-gray-700 rounded-lg text-sm font-semibold hover:border-primary transition-all" data-size="US 11">US 11</button>
                        <button class="size-btn py-3 text-center border border-gray-200 dark:border-gray-700 rounded-lg text-sm font-semibold hover:border-primary transition-all" data-size="US 12">US 12</button>
                        <button class="size-btn py-3 text-center border border-gray-200 dark:border-gray-700 rounded-lg text-sm font-semibold opacity-40 cursor-not-allowed bg-gray-50 dark:bg-gray-900" disabled="" data-size="US 13">US 13</button>
                    </div>
                </div>
                <div class="flex flex-col gap-3">
                    <button class="w-full bg-primary hover:bg-[#c4141d] text-white py-4 rounded-xl font-bold text-lg shadow-lg shadow-primary/20 transition-all flex items-center justify-center gap-2">
                        <span class="material-symbols-outlined">shopping_cart</span>
                        Thêm Vào Giỏ
                    </button>
                    <button class="w-full border-2 border-gray-200 dark:border-gray-700 py-4 rounded-xl font-bold text-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-all flex items-center justify-center gap-2">
                        <span class="material-symbols-outlined">favorite</span>
                        Thêm Vào Yêu Thích
                    </button>
                </div>
                <!-- Delivery Info -->
                <div class="mt-8 border-t border-gray-100 dark:border-gray-800 pt-6 flex flex-col gap-4">
                    <div class="flex items-start gap-3">
                        <span class="material-symbols-outlined text-primary">local_shipping</span>
                        <div>
                            <p class="text-sm font-bold">Giao Hàng Nhanh Miễn Phí</p>
                            <p class="text-xs text-gray-500">Miễn phí vận chuyển cho đơn hàng trên 3.500.000₫. Giao hàng trong 2-3 ngày làm việc.</p>
                        </div>
                    </div>
                    <div class="flex items-start gap-3">
                        <span class="material-symbols-outlined text-primary">assignment_return</span>
                        <div>
                            <p class="text-sm font-bold">Đổi Trả Miễn Phí</p>
                            <p class="text-xs text-gray-500">Đổi trả miễn phí trong vòng 30 ngày kể từ ngày mua.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Product Reviews Section -->
        <div class="mt-20 mb-12">
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <!-- Left: Rating Summary -->
                <div class="lg:col-span-1">
                    <div class="bg-white dark:bg-gray-900 rounded-2xl p-8 border border-gray-100 dark:border-gray-800 sticky top-24">
                        <h3 class="text-2xl font-bold mb-6">Đánh Giá Sản Phẩm</h3>
                        
                        <!-- Overall Rating -->
                        <div class="text-center mb-6 pb-6 border-b border-gray-100 dark:border-gray-800">
                            <div id="average-rating" class="text-6xl font-black text-primary mb-2">0.0</div>
                            <div class="flex justify-center items-center gap-1 mb-2" id="average-stars">
                                <!-- Stars will be rendered dynamically -->
                            </div>
                            <p id="total-reviews" class="text-sm text-gray-500">0 đánh giá</p>
                        </div>
                        
                        <!-- Rating Breakdown -->
                        <div id="rating-breakdown" class="space-y-3">
                            <!-- Rating bars will be rendered dynamically -->
                        </div>
                    </div>
                </div>
                
                <!-- Right: Reviews List & Form -->
                <div class="lg:col-span-2">
                    <!-- Sort & Filter -->
                    <div class="flex flex-wrap items-center justify-between gap-4 mb-6">
                        <h3 class="text-xl font-bold">Tất Cả Đánh Giá</h3>
                        <select id="review-sort" class="px-4 py-2 border border-gray-200 dark:border-gray-700 rounded-lg text-sm font-medium bg-white dark:bg-gray-900 focus:ring-primary focus:border-primary">
                            <option value="recent">Mới nhất</option>
                            <option value="helpful">Hữu ích nhất</option>
                            <option value="rating-high">Đánh giá cao nhất</option>
                            <option value="rating-low">Đánh giá thấp nhất</option>
                        </select>
                    </div>
                    
                    <!-- Write Review Button -->
                    <button id="write-review-btn" class="w-full mb-6 bg-primary hover:bg-red-700 text-white py-3 rounded-lg font-bold flex items-center justify-center gap-2 transition-colors">
                        <span class="material-symbols-outlined">edit</span>
                        Viết Đánh Giá
                    </button>
                    
                    <!-- Review Form (Hidden by default) -->
                    <div id="review-form-container" class="hidden mb-8 bg-gray-50 dark:bg-gray-900 rounded-xl p-6 border border-gray-100 dark:border-gray-800">
                        <!-- Form will be rendered dynamically -->
                    </div>
                    
                    <!-- Reviews List -->
                    <div id="reviews-list" class="space-y-6">
                        <!-- Reviews will be loaded dynamically -->
                        <div class="text-center py-12 text-gray-400">
                            <span class="material-symbols-outlined text-5xl mb-2">rate_review</span>
                            <p>Đang tải đánh giá...</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Related Products -->
        <div class="mt-24 mb-12">
            <div class="flex justify-between items-end mb-8">
                <div>
                    <h2 class="text-3xl font-extrabold">Sản Phẩm Khác</h2>
                    <p class="text-gray-500 mt-1 font-medium">Khám phá thêm nhiều sản phẩm tuyệt vời khác.</p>
                </div>
                <div class="flex gap-2">
                    <button id="related-prev-btn" class="size-10 rounded-full border border-gray-200 flex items-center justify-center hover:bg-black hover:text-white transition-colors">
                        <span class="material-symbols-outlined">chevron_left</span>
                    </button>
                    <button id="related-next-btn" class="size-10 rounded-full border border-gray-200 flex items-center justify-center hover:bg-black hover:text-white transition-colors">
                        <span class="material-symbols-outlined">chevron_right</span>
                    </button>
                </div>
            </div>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                <!-- Related products will be loaded dynamically from Firebase -->
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-black text-white pt-20 pb-10 px-4 md:px-20 border-t border-white/10">
        <div class="max-w-[1280px] mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-12 mb-20">
            <div class="flex flex-col gap-6">
                <a class="flex items-center gap-2" href="index.html">
                    <img src="image/Logo_X_Sneaker.png" alt="X-Sneaker Logo" class="h-8">
                    <h2 class="text-2xl font-extrabold tracking-tighter uppercase italic">X-Sneaker</h2>
                </a>
                <p class="text-gray-400 text-sm leading-relaxed">
                    Nâng tầm văn hóa đường phố từ năm 2018. Chúng tôi cung cấp những mẫu giày độc quyền và phụ kiện cao cấp cho các tín đồ trên toàn thế giới.
                </p>
                <div class="flex gap-4">
                    <a class="hover:text-primary transition-colors" href="https://facebook.com" target="_blank"><span class="material-symbols-outlined">public</span></a>
                    <a class="hover:text-primary transition-colors" href="Contact-Us.html"><span class="material-symbols-outlined">alternate_email</span></a>
                    <a class="hover:text-primary transition-colors" href="Blog-list.html"><span class="material-symbols-outlined">podcasts</span></a>
                </div>
            </div>
            <div>
                <h4 class="font-bold text-lg mb-6 uppercase tracking-tighter italic">Chăm Sóc Khách Hàng</h4>
                <ul class="flex flex-col gap-3 text-gray-400 text-sm font-medium">
                    <li><a class="hover:text-white transition-colors" href="Contact-Us.html">Trung Tâm Trợ Giúp</a></li>
                    <li><a class="hover:text-white transition-colors" href="Account.html?tab=orders">Tra Cứu Đơn Hàng</a></li>
                    <li><a class="hover:text-white transition-colors" href="Contact-Us.html">Đổi Trả &amp; Hoàn Tiền</a></li>
                    <li><a class="hover:text-white transition-colors" href="About-us.html">Hướng Dẫn Chọn Size</a></li>
                    <li><a class="hover:text-white transition-colors" href="About-us.html">Thông Tin Vận Chuyển</a></li>
                </ul>
            </div>
            <div>
                <h4 class="font-bold text-lg mb-6 uppercase tracking-tighter italic">Về X-Sneaker</h4>
                <ul class="flex flex-col gap-3 text-gray-400 text-sm font-medium">
                    <li><a class="hover:text-white transition-colors" href="About-us.html">Câu Chuyện Thương Hiệu</a></li>
                    <li><a class="hover:text-white transition-colors" href="About-us.html">Tuyển Dụng</a></li>
                    <li><a class="hover:text-white transition-colors" href="About-us.html">Phát Triển Bền Vững</a></li>
                    <li><a class="hover:text-white transition-colors" href="About-us.html">Cam Kết Chính Hãng</a></li>
                    <li><a class="hover:text-white transition-colors" href="About-us.html">Chính Sách Bảo Mật</a></li>
                </ul>
            </div>

        </div>
        <div class="max-w-[1280px] mx-auto pt-10 border-t border-white/5 flex flex-col md:flex-row justify-between items-center gap-4 text-xs font-bold text-gray-500 uppercase tracking-widest">
            <p>© 2024 X-Sneaker E-Commerce. All Rights Reserved.</p>
            <div class="flex gap-8">
                <span>Điều Khoản Sữ Dụng</span>
                <span>Cài Đặt Cookie</span>
            </div>
        </div>
    </footer>
</body>
</html>

